{"remainingRequest":"/var/www/html/avomac-dashboard/node_modules/babel-loader/lib/index.js!/var/www/html/avomac-dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/avomac-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/avomac-dashboard/src/views/AddDelivery.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/avomac-dashboard/src/views/AddDelivery.vue","mtime":1650410471000},{"path":"/var/www/html/avomac-dashboard/babel.config.js","mtime":1650410471000},{"path":"/var/www/html/avomac-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1650410471000},{"path":"/var/www/html/avomac-dashboard/node_modules/babel-loader/lib/index.js","mtime":1650410471000},{"path":"/var/www/html/avomac-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1650410471000},{"path":"/var/www/html/avomac-dashboard/node_modules/vue-loader/lib/index.js","mtime":1650410471000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      valid: true,\n      name: '',\n      nameRules: [function (v) {\n        return !!v || 'Name is required';\n      }, function (v) {\n        return v && v.length <= 10 || 'Name must be less than 10 characters';\n      }],\n      items: [],\n      supplier: '',\n      source: '',\n      amount: '',\n      price: '',\n      comments: '',\n      created_at: new Date().toLocaleString(),\n      requiredRules: [function (v) {\n        return !!v || 'This input is required';\n      }]\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var requestOptions = {\n      method: \"GET\",\n      // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\",\n      // no-cors, cors, *same-origin\n      cache: \"no-cache\",\n      // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"same-origin\",\n      // include, *same-origin, omit\n      headers: {\n        Accept: \"application/json\"\n      },\n      redirect: \"follow\",\n      // manual, *follow, error\n      referrer: \"no-referrer\" // no-referrer, *client\n      // body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n\n    };\n    fetch(process.env.VUE_APP_STAGING_ENDPOINT + \"suppliers-name\", requestOptions).then(function (response) {\n      return response.json();\n    }).then(function (result) {\n      console.log(result);\n      _this.items = result;\n    }).catch(function (error) {\n      return console.log('error', error);\n    });\n  },\n  methods: {\n    add_delivery: function add_delivery() {\n      var _this2 = this;\n\n      var data = {\n        supplier: this.supplier,\n        source: this.source,\n        amount: this.amount,\n        price: this.price,\n        comments: this.comments,\n        created_at: this.created_at\n      };\n      console.log(data);\n      var requestOptions = {\n        method: \"POST\",\n        // *GET, POST, PUT, DELETE, etc.\n        mode: \"cors\",\n        // no-cors, cors, *same-origin\n        cache: \"no-cache\",\n        // *default, no-cache, reload, force-cache, only-if-cached\n        credentials: \"same-origin\",\n        // include, *same-origin, omit\n        headers: {\n          Accept: \"application/json\"\n        },\n        redirect: \"follow\",\n        // manual, *follow, error\n        referrer: \"no-referrer\",\n        // no-referrer, *client\n        body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n\n      };\n      fetch(process.env.VUE_APP_STAGING_ENDPOINT + \"create-delivery\", requestOptions).then(function (response) {\n        return response.json();\n      }).then(function (r) {\n        if (r.status == '200') {\n          _this2.$store.commit('delivery');\n\n          _this2.$router.push('/delivery');\n\n          _this2.$refs.form.reset();\n\n          _this2.supplier = \"\";\n          _this2.source = \"\";\n          _this2.amount = \"\";\n          _this2.price = \"\";\n          _this2.comments = \"\";\n          _this2.created_at;\n        } else {\n          alert(\"Error, Kindly contact developer\");\n\n          _this2.$router.push('/delivery');\n\n          _this2.$store.commit('delivery');\n        }\n      }).catch(function (error) {\n        return console.log('error', error);\n      });\n    }\n  }\n};",{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACAA;AAAA;AACAC,iBADA;AAEAC,cAFA;AAGAC,kBACA;AAAA;AAAA,OADA,EAEA;AAAA;AAAA,OAFA,CAHA;AAOAC,eAPA;AAQAC,kBARA;AASAC,gBATA;AAUAC,gBAVA;AAWAC,eAXA;AAYAC,kBAZA;AAaAC,6CAbA;AAcAC;AAAA;AAAA;AAdA;AAAA,GADA;AAkBAC,SAlBA,qBAkBA;AAAA;;AACA;AACAC,mBADA;AACA;AACAC,kBAFA;AAEA;AACAC,uBAHA;AAGA;AACAC,gCAJA;AAIA;AACAC;AACAC;AADA,OALA;AAQAC,wBARA;AAQA;AACAC,6BATA,CASA;AACA;;AAVA;AAaAC,mFACAC,IADA,CACA;AAAA;AAAA,KADA,EAEAA,IAFA,CAEA;AACAC;AACA;AACA,KALA,EAMAC,KANA,CAMA;AAAA;AAAA,KANA;AAQA,GAxCA;AA0CAC;AACAC,gBADA,0BACA;AAAA;;AAEA;AAAArB;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;AACAa;AAEA;AACAV,sBADA;AACA;AACAC,oBAFA;AAEA;AACAC,yBAHA;AAGA;AACAC,kCAJA;AAIA;AACAC;AACAC;AADA,SALA;AAQAC,0BARA;AAQA;AACAC,+BATA;AASA;AACAO,kCAVA,CAUA;;AAVA;AAaAN,sFACAC,IADA,CACA;AAAA;AAAA,OADA,EAEAA,IAFA,CAEA;AACA;AAEA;;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAZA,MAYA;AACAM;;AACA;;AACA;AACA;AAEA,OArBA,EAsBAJ,KAtBA,CAsBA;AAAA;AAAA,OAtBA;AAwBA;AA3CA;AA1CA","names":["data","valid","name","nameRules","items","supplier","source","amount","price","comments","created_at","requiredRules","mounted","method","mode","cache","credentials","headers","Accept","redirect","referrer","fetch","then","console","catch","methods","add_delivery","body","alert"],"sourceRoot":"src/views","sources":["AddDelivery.vue"],"sourcesContent":["<template>\n  <v-container\n    fill-height\n    fluid\n    grid-list-xl>\n    <v-layout\n      justify-center\n      wrap\n    >\n      <v-flex\n        xs12\n      >\n        <material-card\n          color=\"green\"\n          title=\"Add New Delivery\"\n          text=\"Complete the form with the new delivery details\"\n        >\n          <v-form>\n            <v-container py-0>\n              <v-layout wrap>\n                <v-flex\n                  xs12\n                  md6\n                >\n                <v-select\n                    v-model=\"supplier\"\n                    :items=\"items\"\n                    item-text=\"company\"\n                    item-value=\"id\"\n                    :rules=\"[v => !!v || 'Supplier name is required']\"\n                    label=\"Select Supplier\"\n                    required\n                    ></v-select>\n                </v-flex>\n                <v-flex\n                  xs12\n                  md6\n                >\n                  <v-text-field\n                    v-model=\"source\"\n                    class=\"purple-input\"\n                    label=\"Source\"\n                  />\n                </v-flex>\n                <v-flex\n                  xs12\n                  md4\n                >\n                  <v-text-field\n                    v-model=\"amount\"\n                    label=\"Amount in Kilograms\"\n                    class=\"purple-input\"\n                    :rules=\"requiredRules\"/>\n                </v-flex>\n                <v-flex\n                  xs12\n                  md4\n                >\n                  <v-text-field\n                    v-model=\"price\"\n                    label=\"Price\"\n                    class=\"purple-input\"\n                    :rules=\"requiredRules\"/>\n                </v-flex>\n                <v-flex\n                  xs12\n                  md4\n                >\n                  <v-text-field\n                    v-model=\"created_at\"\n                    label=\"Date - Time of Delivery\"\n                    class=\"purple-input\"/>\n                </v-flex>\n                <v-flex xs12>\n                  <v-textarea\n                    v-model=\"comments\"\n                    class=\"purple-input\"\n                    label=\"Delivery Notes\"\n                  />\n                </v-flex>\n                <v-flex\n                  xs12\n                  text-xs-right\n                >\n                  <v-btn\n                    class=\"mx-0 font-weight-light\"\n                    color=\"success\"\n                    @click=\"add_delivery\"\n                  >\n                    Add New Delivery\n                  </v-btn>\n                </v-flex>\n              </v-layout>\n            </v-container>\n          </v-form>\n        </material-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n      valid: true,\n      name: '',\n      nameRules: [\n        v => !!v || 'Name is required',\n        v => (v && v.length <= 10) || 'Name must be less than 10 characters',\n      ],\n      items: [],\n      supplier:'',\n      source:'',\n      amount:'',\n      price:'',\n      comments:'',\n      created_at: new Date().toLocaleString(),\n      requiredRules: [v => !!v || 'This input is required'],\n    }),\n\n    mounted() {\n      var requestOptions = {\n        method: \"GET\", // *GET, POST, PUT, DELETE, etc.\n        mode: \"cors\", // no-cors, cors, *same-origin\n        cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n        credentials: \"same-origin\", // include, *same-origin, omit\n        headers: {\n          Accept: \"application/json\",\n        },\n        redirect: \"follow\", // manual, *follow, error\n        referrer: \"no-referrer\", // no-referrer, *client\n        // body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n      };\n\n      fetch(process.env.VUE_APP_STAGING_ENDPOINT + \"suppliers-name\", requestOptions)\n        .then(response => response.json())\n        .then(result => {\n          console.log(result)\n          this.items = result\n          })\n        .catch(error => console.log('error', error));\n\n    },\n\n    methods: {\n      add_delivery() {\n\n        var data = { supplier: this.supplier, source: this.source, amount: this.amount, price:this.price, comments:this.comments, created_at: this.created_at }\n        console.log(data)\n\n        var requestOptions = {\n          method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n          mode: \"cors\", // no-cors, cors, *same-origin\n          cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n          credentials: \"same-origin\", // include, *same-origin, omit\n          headers: {\n            Accept: \"application/json\",\n          },\n          redirect: \"follow\", // manual, *follow, error\n          referrer: \"no-referrer\", // no-referrer, *client\n          body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n        };\n\n        fetch(process.env.VUE_APP_STAGING_ENDPOINT + \"create-delivery\", requestOptions)\n          .then(response => response.json())\n          .then(r => {\n            if (r.status == '200') {\n\n              this.$store.commit('delivery')  \n              this.$router.push('/delivery')\n              this.$refs.form.reset()\n              this.supplier = \"\"\n              this.source = \"\"\n              this.amount = \"\"\n              this.price = \"\"\n              this.comments  = \"\"\n              this.created_at\n              \n            } else {\n              alert(\"Error, Kindly contact developer\")\n              this.$router.push('/delivery')\n              this.$store.commit('delivery')\n            }\n            \n            })\n          .catch(error => console.log('error', error));\n\n      }\n    }\n}\n</script>\n"]}]}