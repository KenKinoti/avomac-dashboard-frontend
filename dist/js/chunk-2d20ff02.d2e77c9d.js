(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20ff02"],{b680:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[e("v-layout",{attrs:{"justify-center":"",wrap:""}},[e("v-flex",{attrs:{xs12:"",md3:""}},[e("material-card",{attrs:{color:"brown",flat:"","full-width":"",title:"Add new supplier",text:"Add a new supplier details to enable better management"}},[e("v-card-text",{staticClass:"text-xs-center"},[e("h4",{staticClass:"card-title font-weight-light"},[t._v("Supplier Particulars")]),e("p",{staticClass:"card-description font-weight-light"},[t._v("Add particulars of a new supplier to enable management")]),e("v-btn",{staticClass:"font-weight-light",attrs:{color:"brown",round:"",to:"/add-supplier"}},[t._v("Add New Supplier")])],1)],1)],1),e("v-flex",{attrs:{xs12:"",md9:""}},[e("material-card",{attrs:{color:"green",title:"Suppliers",text:"Summary of all suppliers"}},[e("v-data-table",{attrs:{headers:t.headers,items:t.items,"hide-actions":"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headerCell",fn:function(a){var n=a.header;return[e("span",{staticClass:"subheading font-weight-light text-success text--darken-3",domProps:{textContent:t._s(n.text)}})]}},{key:"items",fn:function(a){var n=a.item;return[e("td",[t._v(t._s(n.company))]),e("td",[t._v(t._s(n.driver_f_name))]),e("td",[t._v(t._s(n.driver_l_name))]),e("td",[t._v(t._s(n.vehicle_type))]),e("td",[t._v(t._s(n.county))]),e("td",[e("v-btn",{staticClass:"font-weight-light",attrs:{color:"blue"},on:{click:function(e){return t.update_supply(n.ID)}}},[t._v("UPDATE")]),t._v("\n\n              ||\n\n              "),e("v-btn",{staticClass:"font-weight-light",attrs:{color:"danger",dark:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("DELETE")]),e("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",{staticClass:"text-h5"},[t._v("\n                    Delete a supplier\n                  ")]),e("v-card-text",[t._v("\n                    You are about to delete a supplier "+t._s(n.company)+" \n                  ")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"text-right",attrs:{color:"green darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n                      Disagree\n                    ")]),e("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){return t.delete_supply(n.ID)}}},[t._v("\n                      Agree\n                    ")])],1)],1)],1)],1)]}}])}),e("v-pagination",{attrs:{length:Math.ceil(t.items.length/t.pagination.itemsPerPage)},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)],1)],1)],1)},r=[],o=(a("d25f"),{data:function(){return{headers:[{sortable:!0,text:"Company Name",value:"company"},{sortable:!1,text:"Driver F Name",value:"driver_f_name"},{sortable:!1,text:"Driver L Name",value:"driver_l_name"},{sortable:!1,text:"Vehicle Type",value:"vehicle_type"},{sortable:!1,text:"Source",value:"county"},{sortable:!1,text:"Manage",value:"manage"}],items:[],dialog:!1,pagination:{rowsPerPageOptions:[5,10,25],itemsPerPage:7,page:1}}},mounted:function(){var t=this,e={method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json"},redirect:"follow",referrer:"no-referrer"};fetch("https://avomac-api.ts.r.appspot.com/supplies",e).then((function(t){return t.json()})).then((function(e){console.log(e.data),t.items=e.data})).catch((function(t){return console.log("error",t)}))},methods:{update_supply:function(t){alert("Here we are updating the supply "+t+" coming soon")},delete_supply:function(t){var e=this;alert("You are about to delete supply "+t);var a={method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json"},redirect:"follow",referrer:"no-referrer"};fetch("https://avomac-api.ts.r.appspot.com/supplies/"+t,a).then((function(t){return t.json()})).then((function(a){console.log(a),e.items=e.items.filter((function(e){return e.ID!==t}))})).catch((function(t){return console.log("error",t)}))}}}),i=o,s=a("2877"),l=Object(s["a"])(i,n,r,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d20ff02.d2e77c9d.js.map